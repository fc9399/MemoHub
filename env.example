# MemoHub - Environment Variables Configuration Template
# AWS & NVIDIA Hackathon Project
# Copy this file to .env and fill in your actual configuration

# ===========================================
# üèÜ NVIDIA NIM Configuration (REQUIRED FOR HACKATHON)
# ===========================================
# Get your API key at: https://build.nvidia.com/
NVIDIA_API_KEY=your_nvidia_api_key_here

# Development Environment: NVIDIA Hosted API
NVIDIA_API_BASE_URL=https://integrate.api.nvidia.com/v1

# Production Environment: Self-hosted NIM on AWS EKS
# These URLs point to NIM services deployed in your EKS cluster
NIM_LLM_URL=http://llm-nim.nim:8000/v1
NIM_EMBEDDING_URL=http://embedding-nim.nim:8000/v1

# ===========================================
# ü§ñ AI Models Configuration (HACKATHON REQUIREMENTS)
# ===========================================
# ‚úÖ REQUIRED: LLM Reasoning Model for Hackathon
# Must use: llama-3.1-nemotron-nano-8B-v1
LLM_MODEL=nvidia/llama-3.1-nemotron-nano-8b-v1

# ‚úÖ REQUIRED: Retrieval Embedding Model for Hackathon
# Must use at least one Retrieval Embedding NIM
EMBEDDING_MODEL=nvidia/llama-3.2-nv-embedqa-1b-v2

# Embedding Vector Dimension
EMBEDDING_DIMENSION=2048

# ===========================================
# ‚òÅÔ∏è AWS Configuration
# ===========================================
# Get credentials from: AWS IAM Console
AWS_ACCESS_KEY_ID=your_aws_access_key_id_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key_here

# AWS Region (must match your EKS cluster region)
AWS_REGION=us-east-1

# S3 Bucket Name (must be created first)
S3_BUCKET_NAME=your-memohub-uploads-bucket

# ===========================================
# üì¶ Application Configuration
# ===========================================
# Environment: development, staging, production
# - development: Uses NVIDIA hosted API (NVIDIA_API_BASE_URL)
# - production: Uses self-hosted NIM on EKS (NIM_LLM_URL, NIM_EMBEDDING_URL)
ENVIRONMENT=development

# Allowed File Extensions
ALLOWED_EXTENSIONS=pdf,docx,txt,md,jpg,jpeg,png,gif,webp

# Maximum File Size (bytes)
MAX_FILE_SIZE=10485760  # 10MB

# Maximum Text Length (characters)
MAX_TEXT_LENGTH=100000

# ===========================================
# üóÑÔ∏è Database Configuration
# ===========================================
# DynamoDB Table Name Prefixes
MEMORIES_TABLE_PREFIX=memohub-memories
EMBEDDINGS_TABLE_PREFIX=memohub-embeddings
USERS_TABLE_PREFIX=memohub-users
INTEGRATIONS_TABLE_PREFIX=memohub-integrations
API_KEYS_TABLE_PREFIX=memohub-api-keys

# ===========================================
# üåê Server Configuration
# ===========================================
# Server Port
PORT=8000

# Server Host
HOST=0.0.0.0

# Number of Workers (for production)
WORKERS=4

# ===========================================
# üîê Security Configuration
# ===========================================
# Secret key for JWT encryption (MUST change in production!)
# Generate a secure key: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-change-in-production

# JWT Algorithm
ALGORITHM=HS256

# Access Token Expiration (minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Refresh Token Expiration (days)
REFRESH_TOKEN_EXPIRE_DAYS=7

# OAuth State Secret (for CSRF protection)
OAUTH_STATE_SECRET=your-oauth-state-secret-here

# ===========================================
# üîó Integrations OAuth Configuration
# ===========================================
# Frontend Base URL (used to build OAuth redirect URIs)
# Development: http://localhost:3001
# Production: https://your-domain.com
FRONTEND_URL=http://localhost:3001

# Google Drive OAuth
# Get credentials at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
# Optional: Override auto-built redirect_uri
# GOOGLE_REDIRECT_URI=http://localhost:3001/api/integrations/google-drive/callback

# Notion OAuth
# Get credentials at: https://www.notion.so/my-integrations
NOTION_CLIENT_ID=your_notion_client_id_here
NOTION_CLIENT_SECRET=your_notion_client_secret_here
# Optional: Override auto-built redirect_uri
# NOTION_REDIRECT_URI=http://localhost:3001/api/integrations/notion/callback

# ===========================================
# üìù Logging Configuration
# ===========================================
# Log Level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Log File Path
LOG_FILE=logs/memohub.log

# ===========================================
# üîß Development Configuration
# ===========================================
# Enable Debug Mode
DEBUG=true

# Enable Hot Reload (development only)
RELOAD=true

# Enable CORS (allow all origins in development)
CORS_ENABLED=true

# CORS Origins (comma-separated, for production)
# CORS_ORIGINS=https://your-frontend.com,https://api.your-domain.com

# ===========================================
# üéØ AWS EKS Deployment Configuration (PRODUCTION)
# ===========================================
# EKS Cluster Name
EKS_CLUSTER_NAME=memohub-cluster

# EKS Namespace for NIM Services
NIM_NAMESPACE=nim

# NGC (NVIDIA GPU Cloud) API Key for pulling NIM images
# Same as NVIDIA_API_KEY but used specifically for container registry
NGC_API_KEY=${NVIDIA_API_KEY}

# GPU Instance Type for EKS Nodes
GPU_INSTANCE_TYPE=g5.2xlarge

# Number of GPU Nodes
GPU_NODE_COUNT=2

# ===========================================
# üìä Monitoring & Observability (OPTIONAL)
# ===========================================
# CloudWatch Log Group
CLOUDWATCH_LOG_GROUP=/aws/eks/memohub

# Enable Metrics
ENABLE_METRICS=true

# Prometheus Endpoint (if using Prometheus)
# PROMETHEUS_ENDPOINT=http://prometheus.monitoring:9090

# ===========================================
# üöÄ Performance Tuning
# ===========================================
# Maximum concurrent requests
MAX_CONCURRENT_REQUESTS=100

# Request timeout (seconds)
REQUEST_TIMEOUT=60

# LLM Generation Parameters
LLM_MAX_TOKENS=1000
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.9

# Embedding Batch Size
EMBEDDING_BATCH_SIZE=32

# Vector Search Top K
SEARCH_TOP_K=10

# ===========================================
# üß™ Testing Configuration (OPTIONAL)
# ===========================================
# Test Database Tables (used in unit tests)
TEST_MEMORIES_TABLE=memohub-memories-test
TEST_EMBEDDINGS_TABLE=memohub-embeddings-test
TEST_USERS_TABLE=memohub-users-test

# ===========================================
# ‚ö†Ô∏è IMPORTANT SECURITY NOTES
# ===========================================
# 1. NEVER commit .env files with real credentials to version control
# 2. Use strong, randomly generated keys for SECRET_KEY and OAUTH_STATE_SECRET
# 3. Rotate API keys and credentials regularly (every 90 days recommended)
# 4. Use AWS IAM roles with minimum necessary permissions
# 5. Enable MFA for AWS root and IAM users
# 6. Use AWS Secrets Manager or Parameter Store for production credentials
# 7. OAuth redirect URIs must exactly match provider settings
# 8. In production, set ENVIRONMENT=production to use NIM on EKS
# 9. Ensure EKS security groups restrict access appropriately
# 10. Enable CloudWatch logging for audit trails

# ===========================================
# üìö HACKATHON SUBMISSION CHECKLIST
# ===========================================
# ‚úÖ NVIDIA_API_KEY configured
# ‚úÖ LLM_MODEL set to nvidia/llama-3.1-nemotron-nano-8b-v1
# ‚úÖ EMBEDDING_MODEL set to nvidia/llama-3.2-nv-embedqa-1b-v2
# ‚úÖ AWS credentials configured
# ‚úÖ S3 bucket created and configured
# ‚úÖ DynamoDB tables created (auto-created on first run)
# ‚úÖ NIM services deployed on AWS EKS (for production submission)
# ‚úÖ Frontend URL configured
# ‚úÖ Security keys rotated from defaults

# ===========================================
# üîó USEFUL LINKS
# ===========================================
# NVIDIA NIM Documentation: https://docs.nvidia.com/nim/
# AWS EKS Documentation: https://docs.aws.amazon.com/eks/
# Hackathon Info: https://nvidia-aws.devpost.com/
# LLM Model: https://build.nvidia.com/nvidia/llama-3_1-nemotron-nano-8b-v1
# Embedding Model: https://build.nvidia.com/nvidia/llama-3_2-nv-embedqa-1b-v2
